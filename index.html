
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <title>My boss rocks ðŸ¤˜ A tribute.</title>

    <link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/style.css">
    <script src="pizzicato.js"></script>
    <link rel="icon" type="image/png" href="images/favicon.png">

    <meta name="title" content="My boss rocks ðŸ¤˜ A tribute.">
    <meta name="description" content="Het is vandaag Dag van de Ondernemer. Wij bieden ons eerbetoon aan Kevin Heylen, onze rockstar baas">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://mybossrocks.be/">
    <meta property="og:title" content="My boss rocks ðŸ¤˜ A tribute.">
    <meta property="og:description" content="Het is vandaag Dag van de Ondernemer. Wij bieden ons eerbetoon aan Kevin Heylen, onze rockstar baas">
    <meta property="og:image" content="https://mybossrocks.be/images/share.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://mybossrocks.be/">
    <meta property="twitter:title" content="My boss rocks ðŸ¤˜ A tribute.">
    <meta property="twitter:description" content="Het is vandaag Dag van de Ondernemer. Wij bieden ons eerbetoon aan Kevin Heylen, onze rockstar baas">
    <meta property="twitter:image" content="https://mybossrocks.be/images/share.png">

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Architects+Daughter&display=swap" rel="stylesheet">

</head>
<body>
<div class="relative min-h-screen">
<div class="note fixed z-50 w-screen h-screen ">
    <div class="bg-white w-2/5 h-64 z-20 inset-0 mx-auto my-auto absolute shadow rounded-lg overflow-hidden">
        <div class="flex h-full">
            <div class="w-1/3 h-auto bg-cover bg-center" style="background-image:url('https://thinktomorrow.be/media/741/conversions/kevin-2-large.png')">
                <img src="https://thinktomorrow.be/media/741/conversions/kevin-2-large.png" class="hidden">
            </div>
            <div class="w-2/3 space-y-4 p-8">
                <h1 class="font-bold text-3xl">#DagVanDeOndernemer.</h1>
                <p class="font-light">Wij zijn trots op onze <span class="font-bold"></span>chief</span>, want als een ware rockster geeft hij steeds het beste van zichzelf. Weet je wat zijn favoriete <span class="font-bold">shout-outs</span> zijn?</p>
                <span class="cursor-pointer toggle-me inline-flex justify-center items-end rounded-md border border-transparent shadow-sm px-6 py-2 bg-black text-base font-medium text-white hover:bg-red-900">Let's find out ðŸŽ¸</span>
            </div>
        </div>
    </div>
    <div class="backdrop bg-black w-full h-full absolute z-10 inset-0 opacity-75"></div>
</div>
<!-- Logo -->
<div class="w-1/6 p-10 absolute bottom-0 z-40">
    <img src="/images/mybossrocks.png" alt="Our boss rocks">
</div>

<!-- pedals -->
<div class="flex justify-center relative pt-10">
    <span class="pedal" data-pedal data-pedal-key="81"><img src="/images/pedals/femke.png" alt="Femme" /></span>
    <span class="pedal" data-pedal data-pedal-key="83"><img src="/images/pedals/caveman.png" alt="Cavens" /></span>
    <span class="pedal" data-pedal data-pedal-key="68"><img src="/images/pedals/sarah.png" alt="Saraaah" /></span>
    <span class="pedal" data-pedal data-pedal-key="70"><img src="/images/pedals/caro.png" alt="Caro" /></span>
    <span class="pedal" data-pedal data-pedal-key="71"><img src="/images/pedals/tijs.png" alt="Titser" /></span>
</div>

<div class="flex justify-center relative -mt-8">
    <span class="pedal" data-pedal="" data-pedal-key="72"><img src="/images/pedals/marlo.png" alt="Verboven"></span>
    <span class="pedal" data-pedal="" data-pedal-key="74"><img src="/images/pedals/johnny.png" alt="King"></span>
    <span class="pedal" data-pedal="" data-pedal-key="75"><img src="/images/pedals/sofie.png" alt="Soof"></span>
    <span class="pedal" data-pedal="" data-pedal-key="76"><img src="/images/pedals/steffanie.png" alt="Steffie"></span>
</div>

<!-- Marshall -->
<div class="flex justify-center">
    <div class="" style="width: 40vw; max-width:400px;">
        <img src="images/marshall.png" alt="This is not your regular amplifier">
    </div>
</div>
</div>
<!-- Mixer Panel -->
<div class="flex justify-center space-x-12 carbon p-10 z-50 rounded w-auto border-t-4 border-black shadow-inner">
    <div class="flex flex-col items-center">
        <label class="relative h-24 w-6 flex justify-center items-stretch effect-label" for="effect-distortion">
            <span class="w-2 h-2 bg-primary-500"></span>
            <input type="checkbox" name="effect" id="effect-distortion" value="distortion" hidden>
            <div class="w-4 bg-black rounded-full"></div>
            <img class="absolute bottom-0 cursor-pointer" src="images/sliders/mixer_button-white.png" alt="">
        </label>
        <span class="paper bg-contain bg-center p-4 bg-no-repeat">distort</span>
    </div>
    <div class="flex flex-col items-center">
        <label class="relative h-24 w-6 flex justify-center items-stretch rounded cursor-pointer effect-label" for="effect-delay">
            <input type="checkbox" name="effect" id="effect-delay" value="delay" hidden>
            <div class="w-4 bg-black rounded-full"></div>
            <img class="absolute bottom-0 cursor-pointer" src="images/sliders/mixer_button.png" alt="">
        </label>
        <span class="paper bg-contain bg-center p-4 bg-no-repeat">delay</span>
    </div>

    <div class="flex flex-col items-center">
        <label class="relative h-24 w-6 flex justify-center items-stretch rounded cursor-pointer effect-label" for="effect-pingpong">
            <input type="checkbox" name="effect" id="effect-pingpong" value="pingpong" hidden>
            <div class="w-4 bg-black rounded-full"></div>
            <img class="absolute bottom-0 cursor-pointer" src="images/sliders/mixer_button.png" alt="">
        </label>
        <span class="paper bg-contain bg-center p-4 bg-no-repeat">pingpong</span>
    </div>
    <div class="flex flex-col items-center">
        <label class="relative h-24 w-6 flex justify-center items-stretch rounded cursor-pointer effect-label" for="effect-flanger">
            <input type="checkbox" name="effect" id="effect-flanger" value="flanger" hidden>
            <div class="w-4 bg-black rounded-full"></div>
            <img class="absolute bottom-0 cursor-pointer" src="images/sliders/mixer_button.png" alt="">
        </label>
        <span class="paper bg-contain bg-center p-4 bg-no-repeat">flanger</span>
    </div>
    <div class="flex flex-col items-center">
        <label class="relative h-24 w-6 flex justify-center items-stretch rounded cursor-pointer effect-label" for="effect-tremolo">
            <input type="checkbox" name="effect" id="effect-tremolo" value="tremolo" hidden>
            <div class="w-4 bg-black rounded-full"></div>
            <img class="absolute bottom-0 cursor-pointer" src="images/sliders/mixer_button-red.png" alt="">
        </label>
        <span class="paper bg-contain bg-center p-4 bg-no-repeat">trem</span>
    </div>
    <div class="flex flex-col items-center">
        <label class="relative h-24 w-6 flex justify-center items-stretch rounded cursor-pointer effect-label" for="effect-fuzz">
            <input type="checkbox" name="effect" id="effect-fuzz" value="fuzz" hidden>
            <div class="w-4 bg-black rounded-full"></div>
            <img class="absolute bottom-0 cursor-pointer" src="images/sliders/mixer_button.png" alt="">
        </label>
        <span class="paper bg-contain bg-center p-4 bg-no-repeat">fuzz</span>
    </div>
    <div class="flex flex-col items-center">
        <label class="relative h-24 w-6 flex justify-center items-stretch rounded cursor-pointer effect-label" for="effect-reverb">
            <input type="checkbox" name="effect" id="effect-reverb" value="reverb" hidden>
            <div class="w-4 bg-black rounded-full"></div>
            <img class="absolute bottom-0 cursor-pointer" src="images/sliders/mixer_button.png" alt="">
        </label>
        <span class="paper bg-contain bg-center p-4 bg-no-repeat">reverb</span>
    </div>    
</div>

<audio data-audio-key="81" src="audio/ik-fix-da.m4a"></audio>
<audio data-audio-key="83" src="audio/mybossrocks.m4a"></audio>
<audio data-audio-key="68" src="audio/kan-ik-al-een-factuur-maken-rock.m4a"></audio>
<audio data-audio-key="70" src="audio/vandaag-goeie-dag.m4a"></audio>
<audio data-audio-key="71" src="audio/pizza_kebab.m4a"></audio>
<audio data-audio-key="72" src="audio/marlo.m4a"></audio>
<audio data-audio-key="74" src="audio/johnny.m4a"></audio>
<audio data-audio-key="75" src="audio/Ik-ben-krokodillengroen.m4a"></audio>
<audio data-audio-key="76" src="audio/mybossrocks.m4a"></audio>

<script>
    const audioFiles = document.querySelectorAll('audio');
    let audioTracks = {};

    const effectInputs = document.querySelectorAll('input[name="effect"]');

    audioFiles.forEach(el => {
        const index = el.getAttribute('data-audio-key');
        audioTracks[index] = new Pizzicato.Sound(el.getAttribute('src'));
    });

    addEffects();

    effectInputs.forEach(effectInput => {
        effectInput.addEventListener('change', addEffects);
    })

    function addEffects() {
        for(index in audioTracks) {
            let audioTrack = audioTracks[index];

            // Remove all effects from track
            audioTrack.effects.forEach(effect => {
                audioTrack.removeEffect(effect);
            });
            // Visually turn off all mixer buttons
            effectInputs.forEach(input => {
                input.parentElement.classList.remove('active');
            });

            // Add all effects to track
            let effects = getEffectNames();
            effects.forEach(effect => {
                addEffect(audioTrack, effect);
            });
            // Visually turn on all mixer buttons
            effectInputs.forEach(input => {
                if(input.checked) input.parentElement.classList.add('active');
            });
        };
    }

    function getEffectNames() {
        let effectNames = [];

        effectInputs.forEach(input => {
            if(input.checked) effectNames.push(input.value);
        });

        return effectNames;
    }

    function playSound(e)
    {
        // In case of keypress or click...
        const index = e.keyCode

        var audio = audioTracks[index];

        if(null == audio) return;

        audio.stop();
        audio.play();

        var trigger = document.querySelector(`[data-pedal-key="${index}"]`);
        trigger.classList.add('playing');
    }

    function removeTransition(e) {
        if('transform' !== e.propertyName) return;
        this.classList.remove('playing');
    }

    function addEffect(audio, type)
    {
        let effect;

        switch (type) {
            case 'distortion':
                effect = new Pizzicato.Effects.Distortion({
                    gain: 0.4
                });
            break;
            case 'delay':
                effect = new Pizzicato.Effects.Delay({
                    feedback: 0.6,
                    time: 0.22,
                    mix: 0.75
                });
            break;
            case 'reverb':
                effect = new Pizzicato.Effects.Reverb({
                    time: 1,
                    decay: 0.8,
                    reverse: false,
                    mix: 0.5
                });
            break;
            case 'pingpong':
                effect = new Pizzicato.Effects.PingPongDelay({
                    feedback: 0.3,
                    time: 0.2,
                    mix: 0.68
                });
            break;
            case 'fuzz':
                effect = new Pizzicato.Effects.Quadrafuzz({
                    lowGain: 0.6,
                    midLowGain: 0.8,
                    midHighGain: 0.5,
                    highGain: 0.9,
                });
            break;
            case 'flanger':
                effect = new Pizzicato.Effects.Flanger({
                    time: 0.45,
                    speed: 0.2,
                    depth: 0.5,
                    feedback: 0.3,
                    mix: 0.5
                });
            break;
            case 'tremolo':
                effect = new Pizzicato.Effects.Tremolo({
                    speed: 20,
                    depth: 1,
                    mix: 0.8
                });
            break;
        }

        if(effect) audio.addEffect(effect);
    }

    // Event listeners
    const keys = document.querySelectorAll('[data-pedal-key]');
    keys.forEach(key => key.addEventListener('transitionend',removeTransition));

    window.addEventListener('keydown',playSound);


    var el = document.querySelector('.toggle-me');
    var note = document.querySelector('.note');
    el.onclick = function() {
        note.classList.toggle('ghost');
    }

</script>


</body>
</html>
